{% extends 'base.html' %}
{% load static %}

{% block content %}


<div class="container my-5">
  <h1 class="text-center">Preparing the Download</h1>


  <div class='progress-wrapper'>
    <div id='progress-bar' class='progress-bar progress-bar-primary'>&nbsp;</div>
  </div>
<div id="progress-bar-message">Waiting for progress to start...</div>



</div>



{% endblock %}


{% block scripts %}

<script src="{% static 'celery_progress/celery_progress.js' %}"></script>

<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    var progressUrl = "{% url 'celery_progress:task_status' task_id %}";
    CeleryProgressBar.initProgressBar(progressUrl);
  });
  function customSuccess(progressBarElement, progressBarMessageElement) {
    progressBarElement.innerHTML = (
     '<figure class="image"><img src="https://static.wikia.nocookie.net/desimpsons/images/6/65/Bart_Simpson.png/revision/latest?cb=20171106184048"></figure>'
    )
    progressBarElement.style.backgroundColor = '#fff';
    progressBarMessageElement.innerHTML = 'success!'
}
</script>


{% endblock %}
